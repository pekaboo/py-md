# 数组和链表在 Java 中的区别是什么？

**难度**：中等

**创建时间**：2025-10-06 06:02:01

## 答案
在 Java 中，数组和链表是两种常用的数据结构，它们在存储方式、访问效率、内存分配等方面有显著区别。以下是主要差异的详细对比：

---

### **1. 存储结构**
- **数组**：
  - **连续内存**：数组元素在内存中连续存储，通过索引直接访问。
  - **固定大小**：长度在创建时确定，无法动态修改（除非重新创建或使用动态数组如 `ArrayList`）。
  - **示例**：
    ```java
    int[] arr = new int[5]; // 固定长度为5的数组
    ```

- **链表**：
  - **非连续内存**：每个节点包含数据和指向下一个节点的引用（指针），内存分散。
  - **动态大小**：长度可动态增减，无需预先分配固定大小。
  - **Java 实现**：通过 `LinkedList` 类实现（双向链表）。
    ```java
    LinkedList<Integer> list = new LinkedList<>(); // 动态链表
    ```

---

### **2. 访问效率**
- **数组**：
  - **随机访问快**：通过索引（如 `arr[2]`）直接定位元素，时间复杂度为 **O(1)**。
  - **顺序访问慢**：若遍历整个数组，时间复杂度为 **O(n)**。

- **链表**：
  - **随机访问慢**：必须从头节点或尾节点开始遍历，查找第 `i` 个元素的时间复杂度为 **O(n)**。
  - **顺序访问快**：插入/删除节点时，只需修改相邻节点的指针，时间复杂度为 **O(1)**（已知位置时）。

---

### **3. 内存分配**
- **数组**：
  - 预先分配固定大小的连续内存，可能导致内存浪费或不足。
  - 静态数组在栈或堆中分配（取决于声明方式），动态数组（如 `ArrayList`）在堆中分配。

- **链表**：
  - 每个节点独立分配内存，仅需存储数据和指针，内存利用率更高。
  - 节点在堆中动态分配，适合频繁插入/删除的场景。

---

### **4. 操作复杂度**
| 操作          | 数组（普通） | 数组（`ArrayList`） | 链表（`LinkedList`） |
|---------------|-------------|---------------------|-----------------------|
| **随机访问**  | O(1)        | O(1)                | O(n)                  |
| **头部插入**  | O(n)（需移动元素） | O(n) | O(1)                  |
| **尾部插入**  | O(1)（若空间足够） | 平均 O(1)（扩容时 O(n)） | O(1)                  |
| **中间插入**  | O(n)（需移动元素） | O(n) | O(n)（需遍历到位置）  |
| **删除元素**  | O(n)（需移动元素） | O(n) | O(n)（需遍历到位置）  |

---

### **5. 实现与使用场景**
- **数组适用场景**：
  - 需要快速随机访问（如矩阵运算、查找算法）。
  - 数据大小已知且固定（如配置参数）。
  - 内存连续性重要（如缓存友好）。

- **链表适用场景**：
  - 频繁插入/删除（如实现栈、队列、哈希表的冲突处理）。
  - 数据大小动态变化（如实时数据流）。
  - 无需随机访问（如遍历日志）。

---

### **6. Java 中的具体实现**
- **数组**：
  - 基础类型数组（如 `int[]`）和对象数组（如 `String[]`）。
  - 动态数组：`ArrayList`（基于数组，自动扩容）。

- **链表**：
  - `LinkedList` 类（实现了 `List` 和 `Deque` 接口，支持双向操作）。
  - 示例：
    ```java
    LinkedList<String> list = new LinkedList<>();
    list.addFirst("A"); // 头部插入
    list.addLast("B");  // 尾部插入
    list.remove(0);     // 删除头部元素
    ```

---

### **总结**
| **特性**       | **数组**                     | **链表**                     |
|----------------|-----------------------------|-----------------------------|
| **内存连续性** | 连续                        | 非连续                      |
| **访问速度**   | 随机访问快（O(1)）          | 随机访问慢（O(n)）          |
| **插入/删除**  | 头部慢（O(n)），尾部快（O(1)） | 头部/尾部快（O(1)）         |
| **内存开销**   | 较小（无额外指针）          | 较大（每个节点存指针）      |
| **适用场景**   | 固定大小、随机访问          | 动态大小、频繁插入/删除      |

根据需求选择：若需快速访问且大小固定，用数组或 `ArrayList`；若需动态操作，用 `LinkedList`。
